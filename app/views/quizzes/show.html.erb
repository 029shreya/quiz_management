<!-- app/views/quizzes/show.html.erb -->

<div class="quiz-header-row">
  <div>
    <p class="quiz-breadcrumb">
      <%= link_to "Quizzes", quizzes_path %> · <span>Details</span>
    </p>

    <h1 class="page-title"><%= @quiz.title %></h1>

    <% if @quiz.description.present? %>
      <p class="page-subtitle"><%= @quiz.description %></p>
    <% end %>
  </div>

  <div class="quiz-header-meta">
    <span class="pill pill-soft">
      <strong><%= @quiz.questions.count %></strong>
      question<%= @quiz.questions.count == 1 ? "" : "s" %>
    </span>
  </div>
</div>

<div class="quiz-card">
  <header class="quiz-card-header">
    <div class="quiz-card-title">
      <h2>Ready to start?</h2>
      <p class="quiz-card-subtitle">
        This quiz contains <strong><%= @quiz.questions.count %></strong>
        question<%= @quiz.questions.count == 1 ? "" : "s" %>.  
        When you’re ready, click <strong>Start Quiz</strong>.
      </p>
    </div>
  </header>

  <div style="margin-top: 0.8rem;">
    <% if user_signed_in? %>
      <%= link_to "Start Quiz",
                  play_quiz_path(@quiz),
                  class: "btn btn-primary btn-lg" %>
    <% else %>
      <p class="page-subtitle" style="margin-bottom: 0.8rem;">
        You need to be logged in to take this quiz.
      </p>
      <%= link_to "Login to continue",
                  new_user_session_path,
                  class: "btn btn-primary btn-lg" %>
      <span style="margin-left: 0.5rem; font-size: 0.85rem; color: var(--text-soft);">
        or <%= link_to "create an account", new_user_registration_path %>
      </span>
    <% end %>
  </div>
</div>
